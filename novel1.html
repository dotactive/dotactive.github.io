<!DOCTYPE html>
<html>
<head>
  <title>Novel 1</title>
  <style>
    /* CSS for the side menu */
    #menu {
      position: fixed;
      top: 0;
      left: 0;
      padding: 10px;
      background-color: #f0f0f0;
    }

    #menu a {
      display: block;
      margin-bottom: 5px;
      text-decoration: none;
      color: #000;
    }
  </style>
</head>
<body>
  <!-- Side menu -->
  <div id="menu">
    <a href="#text1">Text 1</a>
    <a href="#text2">Text 2</a>
    <!-- Add more anchor links for each text file -->
  </div>

  <!-- Novel content -->
  <div id="novel-content"></div>

  <script>
    // Function to fetch and display the text files
    function fetchTextFiles() {
      var novelContent = document.getElementById("novel-content");

      // Fetch the JSON file containing the list of file names
      fetch("files.json")
        .then(function(response) {
          return response.json();
        })
        .then(function(data) {
          // Get the list of file names from the JSON data
          var fileNames = data.files;

          // Loop through the file names
          fileNames.forEach(function(fileName) {
            // Create an anchor element with the file name as the ID
            var anchor = document.createElement("a");
            anchor.id = fileName.replace(".txt", "");
            anchor.style.display = "block";
            novelContent.appendChild(anchor);

            // Fetch each text file
            fetch(fileName)
              .then(function(response) {
                return response.text();
              })
              .then(function(fileContent) {
                // Create a <p> element and append the text content
                var paragraph = document.createElement("p");
                paragraph.textContent = fileContent;
                anchor.appendChild(paragraph);
              })
              .catch(function(error) {
                console.log("Error fetching " + fileName + ": " + error);
              });
          });
        })
        .catch(function(error) {
          console.log("Error fetching file names: " + error);
        });
    }

    // Call the fetchTextFiles function to fetch and display the text files
    fetchTextFiles();
  </script>
</body>
</html>
